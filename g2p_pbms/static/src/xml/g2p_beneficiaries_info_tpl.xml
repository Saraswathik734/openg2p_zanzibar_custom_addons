<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">
    <t t-name="g2p_beneficiaries_info_tpl">
        <div>
            <DomainSelector
                resModel="props.resModel"
                domain="state.domain"
                update.bind="onDomainChange"
                readonly="false"
                isDebugMode="!!env.debug"
                className="'o_edit_mode'"
            />
        </div>
        <div class="o_x2m_control_panel d-empty-none mb-4">
            <button type="button" class="btn btn-secondary" t-on-click="searchRegistrants">
                <i class="fa fa-search"/>
            </button>
        </div>
        <div class="g2p-beneficiaries" style="font-size: 18px;">
            <!-- Search input with search and arch buttons -->
            <t t-if="state.searched">
                <h3><t t-esc="state.title"/></h3>
            </t>
            <table class="table table-bordered" style="width: 150%; font-size: 16px;">
                <thead>
                    <tr>
                        <th><t t-esc="('Unique ID')"/></th>
                        <!-- <th><t t-esc="('Registration Date')"/></th> -->

                        <!-- Conditional columns (farmer) -->
                        <t t-if="state.target_registry === 'farmer'">
                            <th><t t-esc="('Name')"/></th>
                            <th><t t-esc="('Land Area')"/></th>
                            <th><t t-esc="('Cattle Heads')"/></th>
                            <th><t t-esc="('Poultry Heads')"/></th>
                            <th><t t-esc="('Annual Income')"/></th>
                            <th><t t-esc="('Small Area Code')"/></th>
                            <th><t t-esc="('Large Area Code')"/></th>
                        </t>
                        <!-- Conditional columns (worker) -->
                        <t t-if="state.target_registry === 'worker'">
                            <th><t t-esc="('Name')"/></th>
                            <th><t t-esc="('Email')"/></th>
                            <th><t t-esc="('Age Group')"/></th>
                            <th><t t-esc="('Province ID')"/></th>
                            <th><t t-esc="('District ID')"/></th>
                            <th><t t-esc="('Constituency ID')"/></th>
                            <th><t t-esc="('Ward ID')"/></th>
                        </t>
                        <!-- <t t-if="state.list_workflow_status === 'approved_for_disbursement'">
                            <th><t t-esc="('Bridge Disbursement ID')"/></th>
                            <th><t t-esc="('Bridge Dispatch Timestamp')"/></th>
                            <th><t t-esc="('')"/></th>
                        </t> -->
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="state.records" t-as="record" t-key="record.id">
                        <tr>
                            <td><t t-esc="record.unique_id"/></td>
                            <!-- <td><t t-esc="record.registration_date"/></td> -->

                            <!-- Conditional cells (farmer) -->
                            <t t-if="state.target_registry === 'farmer'">
                                <td><t t-esc="record.name"/></td>
                                <td><t t-esc="record.land_area"/></td>
                                <td><t t-esc="record.no_of_cattle_heads"/></td>
                                <td><t t-esc="record.no_of_poultry_heads"/></td>
                                <td><t t-esc="record.annual_income"/></td>
                                <td><t t-esc="record.small_area_code"/></td>
                                <td><t t-esc="record.large_area_code"/></td>
                            </t>
                            <!-- Conditional cells (worker) -->
                            <t t-if="state.target_registry === 'worker'">
                                <td><t t-esc="record.name"/></td>
                                <td><t t-esc="record.email"/></td>
                                <td><t t-esc="record.age_group"/></td>
                                <td><t t-esc="record.province_id"/></td>
                                <td><t t-esc="record.district_id"/></td>
                                <td><t t-esc="record.constituency_id"/></td>
                                <td><t t-esc="record.ward_id"/></td>
                            </t>
                        </tr>
                    </t>
                </tbody>
            </table>

                <t t-if="state.searched">
                    <div class="o_beneficiary_pager">
                        <button type="button" class="btn btn-secondary" t-on-click="prevPage" t-att-disabled="state.page &lt;= 1">
                            <i class="fa fa-chevron-left"/>
                        </button>
                        <span>
                            <t t-esc="state.page"/> / <t t-esc="state.totalPages"/>
                        </span>
                        <button type="button" class="btn btn-secondary" t-on-click="nextPage" t-att-disabled="state.page &gt;= state.totalPages">
                            <i class="fa fa-chevron-right"/>
                        </button>
                    </div>
                </t>
        </div>
    </t>
</templates>
