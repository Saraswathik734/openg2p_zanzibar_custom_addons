<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <record id="view_g2p_eligibility_summary_wizard_form" model="ir.ui.view">
    <field name="name">g2p.eligibility.summary.wizard.form</field>
    <field name="model">g2p.eligibility.summary.wizard</field>
    <field name="arch" type="xml">
      <form string="Eligibility Summary">
        <sheet>
          <group>
            <field name="brief" invisible="1"/>
            <field name="program_id" invisible="1"/>
          </group>
          <notebook>
           <page string="Summary">
              <group col="2">
                <group>
                  <field name="summary_general_line_ids">
                    <tree string="General Info">
                      <field name="key"/>
                      <field name="value"/>
                    </tree>
                  </field>
                </group>
                <group>
                  <field name="summary_statistics_line_ids">
                    <tree string="Statistics">
                      <field name="key"/>
                      <field name="value"/>
                    </tree>
                  </field>
                </group>
              </group>
            </page>
            <page string="Beneficiaries">
            <group>
                <field name="target_registry_type" invisible="1"/>
                <!-- Only one beneficiary_search field is shown based on registry type -->
                <group name="beneficiary_search_farmer" invisible="target_registry_type != 'farmer'">
                  <field name="beneficiary_search" widget="domain" options="{'model': 'g2p.farmer.registry'}"/>
                  <div class="input-group-append">
            <button type="button" class="btn btn-secondary" name="search_beneficiaries">
                <i class="fa fa-search"> Search</i>
            </button>
        </div>
                </group>
                <group name="beneficiary_search_student" invisible="target_registry_type != 'student'">
                  <field name="beneficiary_search" widget="domain" options="{'model': 'g2p.student.registry'}"/>
                        <div class="input-group-append">
            <button type="button" class="btn btn-secondary" name="search_beneficiaries">
                <i class="fa fa-search"> Search</i>
            </button>
        </div>
                </group>
              </group>
            <!-- Container for the QWeb-based beneficiary list -->
            <field name="dummy_beneficiaries_field" widget="g2p_beneficiaries_widget"/>
          </page>
          </notebook>
        </sheet>
        <footer>
          <button string="Close" class="btn-secondary" special="cancel"/>
        </footer>
      </form>
    </field>
  </record>
</odoo>
